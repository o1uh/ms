2025-05-29 01:30:34,168 - ServerApp - INFO - Запуск серверного приложения...
2025-05-29 01:30:34,169 - ServerApp - INFO - Сервер запущен и слушает на 127.0.0.1:65432
2025-05-29 01:30:34,169 - ServerApp - INFO - Для остановки сервера нажмите Ctrl+C в этой консоли.
2025-05-29 01:30:37,769 - ServerApp - INFO - Новое подключение от ('127.0.0.1', 64168)
2025-05-29 01:30:37,789 - ServerApp - INFO - Успешное подключение к базе данных PostgreSQL.
2025-05-29 01:30:40,887 - ServerApp - DEBUG - Получено от ('127.0.0.1', 64168) (аутентификация): {"type": "login", "payload": {"username": "1111", "password": "1111"}}
2025-05-29 01:30:41,049 - ServerApp - INFO - Клиент ('127.0.0.1', 64168) аутентифицирован как 1111 (ID: 1)
2025-05-29 01:30:44,693 - ServerApp - DEBUG - Получено от 1111 (('127.0.0.1', 64168)): {"type": "private_message", "payload": {"recipient": "2222", "text": "13"}}
2025-05-29 01:30:44,695 - ServerApp - DEBUG - Найден существующий direct чат ID: 1 для пользователей 1 и 2
2025-05-29 01:30:44,698 - ServerApp - INFO - Сообщение ID: 2 от user_id: 1 в chat_id: 1 сохранено в БД (2025-05-29 01:30:40.887900+07:00).
2025-05-29 01:30:44,699 - ServerApp - INFO - Сообщение (ID: 2) от 1111 к 2222 сохранено.
2025-05-29 01:30:44,699 - ServerApp - INFO - Получатель 2222 оффлайн. Сообщение от 1111 (ID: 2) сохранено в БД для последующей доставки.
2025-05-29 01:30:53,863 - ServerApp - INFO - Новое подключение от ('127.0.0.1', 64170)
2025-05-29 01:30:53,879 - ServerApp - INFO - Успешное подключение к базе данных PostgreSQL.
2025-05-29 01:30:58,855 - ServerApp - DEBUG - Получено от ('127.0.0.1', 64170) (аутентификация): {"type": "login", "payload": {"username": "2222", "password": "2222"}}
2025-05-29 01:30:59,014 - ServerApp - INFO - Клиент ('127.0.0.1', 64170) аутентифицирован как 2222 (ID: 2)
2025-05-29 01:51:06,582 - ServerApp - INFO - Получен сигнал KeyboardInterrupt (Ctrl+C)...
2025-05-29 01:51:06,582 - ServerApp - INFO - Сервер останавливается...
2025-05-29 01:51:06,582 - ServerApp - INFO - Сервер полностью остановлен.

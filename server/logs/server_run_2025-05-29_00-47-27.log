2025-05-29 00:47:27,378 - ServerApp - INFO - Запуск серверного приложения...
2025-05-29 00:47:27,379 - ServerApp - INFO - Сервер запущен и слушает на 127.0.0.1:65432
2025-05-29 00:47:27,379 - ServerApp - INFO - Для остановки сервера нажмите Ctrl+C в этой консоли.
2025-05-29 00:47:35,411 - ServerApp - INFO - Новое подключение от ('127.0.0.1', 63703)
2025-05-29 00:47:35,533 - ServerApp - INFO - Успешное подключение к базе данных PostgreSQL.
2025-05-29 00:47:44,105 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63703) (до аутентификации): {"type": "register", "payload": {"username": "1111", "password": "1111"}}
2025-05-29 00:47:44,279 - ServerApp - INFO - Пользователь '1111' (ID: 1) успешно создан в БД.
2025-05-29 00:47:44,279 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63703): {"type": "register_status", "payload": {"status": "success", "message": "\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c '1111' \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d. \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0439\u0442\u0438."}}
2025-05-29 00:48:07,025 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63703) (до аутентификации): {"type": "login", "payload": {"username": "1111", "password": "1111"}}
2025-05-29 00:48:07,208 - ServerApp - INFO - Клиент ('127.0.0.1', 63703) аутентифицирован как 1111 (ID: 1)
2025-05-29 00:48:07,208 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63703): {"type": "login_status", "payload": {"status": "success", "message": "\u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u0432\u0445\u043e\u0434.", "username": "1111", "user_id": 1}}
2025-05-29 00:48:28,961 - ServerApp - INFO - Новое подключение от ('127.0.0.1', 63732)
2025-05-29 00:48:29,086 - ServerApp - INFO - Успешное подключение к базе данных PostgreSQL.
2025-05-29 00:48:34,129 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63732) (до аутентификации): {"type": "login", "payload": {"username": "1111", "password": "222222"}}
2025-05-29 00:48:34,288 - ServerApp - WARNING - Неудачная попытка входа для пользователя '1111' от ('127.0.0.1', 63732)
2025-05-29 00:48:34,288 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63732): {"type": "login_status", "payload": {"status": "error", "message": "\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c."}}
2025-05-29 00:48:38,113 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63732) (до аутентификации): {"type": "login", "payload": {"username": "1111", "password": "1111"}}
2025-05-29 00:48:38,269 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63732): {"type": "login_status", "payload": {"status": "error", "message": "\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c '1111' \u0443\u0436\u0435 \u0432 \u0441\u0435\u0442\u0438."}}
2025-05-29 00:48:48,233 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63732) (до аутентификации): {"type": "login", "payload": {"username": "2222", "password": "2222"}}
2025-05-29 00:48:48,233 - ServerApp - WARNING - Неудачная попытка входа для пользователя '2222' от ('127.0.0.1', 63732)
2025-05-29 00:48:48,233 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63732): {"type": "login_status", "payload": {"status": "error", "message": "\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c."}}
2025-05-29 00:48:51,265 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63732) (до аутентификации): {"type": "register", "payload": {"username": "2222", "password": "2222"}}
2025-05-29 00:48:51,425 - ServerApp - INFO - Пользователь '2222' (ID: 2) успешно создан в БД.
2025-05-29 00:48:51,425 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63732): {"type": "register_status", "payload": {"status": "success", "message": "\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c '2222' \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d. \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0439\u0442\u0438."}}
2025-05-29 00:48:53,225 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63732) (до аутентификации): {"type": "login", "payload": {"username": "2222", "password": "2222"}}
2025-05-29 00:48:53,384 - ServerApp - INFO - Клиент ('127.0.0.1', 63732) аутентифицирован как 2222 (ID: 2)
2025-05-29 00:48:53,384 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63732): {"type": "login_status", "payload": {"status": "success", "message": "\u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u0432\u0445\u043e\u0434.", "username": "2222", "user_id": 2}}
2025-05-29 00:49:16,136 - ServerApp - DEBUG - Получено от 2222 (('127.0.0.1', 63732)): {"type": "private_message", "payload": {"recipient": "2222", "text": "222"}}
2025-05-29 00:49:16,136 - ServerApp - INFO - Пересылка сообщения от 2222 к 2222: 222
2025-05-29 00:49:16,136 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63732): {"type": "incoming_message", "payload": {"sender": "2222", "text": "222"}}
2025-05-29 00:50:07,576 - ServerApp - DEBUG - Получено от 2222 (('127.0.0.1', 63732)): {"type": "private_message", "payload": {"recipient": "1111", "text": "3"}}
2025-05-29 00:50:07,576 - ServerApp - INFO - Пересылка сообщения от 2222 к 1111: 3
2025-05-29 00:50:07,576 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63703): {"type": "incoming_message", "payload": {"sender": "2222", "text": "3"}}
2025-05-29 00:50:16,535 - ServerApp - DEBUG - Получено от 1111 (('127.0.0.1', 63703)): {"type": "private_message", "payload": {"recipient": "3333", "text": "444"}}
2025-05-29 00:50:16,536 - ServerApp - WARNING - Получатель 3333 не найден или оффлайн (сообщение от 1111).
2025-05-29 00:50:16,536 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63703): {"type": "error_notification", "payload": {"message": "\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c '3333' \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0438\u043b\u0438 \u043e\u0444\u0444\u043b\u0430\u0439\u043d."}}
2025-05-29 00:52:04,987 - ServerApp - INFO - Клиент 2222 (('127.0.0.1', 63732)) отключился.
2025-05-29 00:52:04,988 - ServerApp - INFO - Клиент 2222 (('127.0.0.1', 63732)) удален из активных.
2025-05-29 00:52:04,988 - ServerApp - DEBUG - Соединение с БД для клиента ('127.0.0.1', 63732) (пользователь: 2222) закрыто.
2025-05-29 00:52:04,988 - ServerApp - DEBUG - Сокет для ('127.0.0.1', 63732) (пользователь: 2222) окончательно закрыт.
2025-05-29 00:52:12,740 - ServerApp - INFO - Новое подключение от ('127.0.0.1', 63832)
2025-05-29 00:52:12,756 - ServerApp - INFO - Успешное подключение к базе данных PostgreSQL.
2025-05-29 00:52:20,665 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63832) (до аутентификации): {"type": "login", "payload": {"username": "2222", "password": "3333"}}
2025-05-29 00:52:20,826 - ServerApp - WARNING - Неудачная попытка входа для пользователя '2222' от ('127.0.0.1', 63832)
2025-05-29 00:52:20,826 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63832): {"type": "login_status", "payload": {"status": "error", "message": "\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c."}}
2025-05-29 00:52:26,129 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63832) (до аутентификации): {"type": "login", "payload": {"username": "2222", "password": "4441"}}
2025-05-29 00:52:26,289 - ServerApp - WARNING - Неудачная попытка входа для пользователя '2222' от ('127.0.0.1', 63832)
2025-05-29 00:52:26,289 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63832): {"type": "login_status", "payload": {"status": "error", "message": "\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c."}}
2025-05-29 00:52:29,520 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63832) (до аутентификации): {"type": "login", "payload": {"username": "2222", "password": "22223"}}
2025-05-29 00:52:29,677 - ServerApp - WARNING - Неудачная попытка входа для пользователя '2222' от ('127.0.0.1', 63832)
2025-05-29 00:52:29,677 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63832): {"type": "login_status", "payload": {"status": "error", "message": "\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c."}}
2025-05-29 00:52:32,808 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63832) (до аутентификации): {"type": "register", "payload": {"username": "2222", "password": "22223"}}
2025-05-29 00:52:32,809 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63832): {"type": "register_status", "payload": {"status": "error", "message": "\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f '2222' \u0443\u0436\u0435 \u0437\u0430\u043d\u044f\u0442\u043e."}}
2025-05-29 00:52:46,664 - ServerApp - DEBUG - Получено от ('127.0.0.1', 63832) (до аутентификации): {"type": "login", "payload": {"username": "1111", "password": "1111"}}
2025-05-29 00:52:46,824 - ServerApp - DEBUG - Отправлено ('127.0.0.1', 63832): {"type": "login_status", "payload": {"status": "error", "message": "\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c '1111' \u0443\u0436\u0435 \u0432 \u0441\u0435\u0442\u0438."}}
2025-05-29 00:52:48,538 - ServerApp - INFO - Клиент ('127.0.0.1', 63832) отключился до аутентификации.
2025-05-29 00:52:48,539 - ServerApp - INFO - Клиент ('127.0.0.1', 63832) не прошел аутентификацию. Закрытие соединения.
2025-05-29 00:52:48,539 - ServerApp - DEBUG - Соединение с БД для клиента ('127.0.0.1', 63832) (пользователь: None) закрыто.
2025-05-29 00:52:48,539 - ServerApp - DEBUG - Сокет для ('127.0.0.1', 63832) (пользователь: None) окончательно закрыт.
2025-05-29 00:52:51,226 - ServerApp - INFO - Клиент 1111 (('127.0.0.1', 63703)) отключился.
2025-05-29 00:52:51,226 - ServerApp - INFO - Клиент 1111 (('127.0.0.1', 63703)) удален из активных.
2025-05-29 00:52:51,226 - ServerApp - DEBUG - Соединение с БД для клиента ('127.0.0.1', 63703) (пользователь: 1111) закрыто.
2025-05-29 00:52:51,226 - ServerApp - DEBUG - Сокет для ('127.0.0.1', 63703) (пользователь: 1111) окончательно закрыт.
2025-05-29 00:53:08,138 - ServerApp - INFO - Получен сигнал остановки (KeyboardInterrupt)...
2025-05-29 00:53:08,138 - ServerApp - INFO - Сервер останавливается...
2025-05-29 00:53:08,138 - ServerApp - INFO - Сервер остановлен.

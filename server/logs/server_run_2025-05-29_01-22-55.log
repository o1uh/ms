2025-05-29 01:22:55,446 - ServerApp - INFO - Запуск серверного приложения...
2025-05-29 01:22:55,447 - ServerApp - INFO - Сервер запущен и слушает на 127.0.0.1:65432
2025-05-29 01:22:55,447 - ServerApp - INFO - Для остановки сервера нажмите Ctrl+C в этой консоли.
2025-05-29 01:23:00,106 - ServerApp - INFO - Новое подключение от ('127.0.0.1', 64120)
2025-05-29 01:23:00,126 - ServerApp - INFO - Успешное подключение к базе данных PostgreSQL.
2025-05-29 01:23:03,135 - ServerApp - DEBUG - Получено от ('127.0.0.1', 64120) (аутентификация): {"type": "login", "payload": {"username": "2222", "password": "2222"}}
2025-05-29 01:23:03,303 - ServerApp - INFO - Клиент ('127.0.0.1', 64120) аутентифицирован как 2222 (ID: 2)
2025-05-29 01:23:16,721 - ServerApp - INFO - Новое подключение от ('127.0.0.1', 64122)
2025-05-29 01:23:16,738 - ServerApp - INFO - Успешное подключение к базе данных PostgreSQL.
2025-05-29 01:23:19,999 - ServerApp - DEBUG - Получено от ('127.0.0.1', 64122) (аутентификация): {"type": "login", "payload": {"username": "1111", "password": "1111"}}
2025-05-29 01:23:20,158 - ServerApp - INFO - Клиент ('127.0.0.1', 64122) аутентифицирован как 1111 (ID: 1)
2025-05-29 01:23:40,862 - ServerApp - DEBUG - Получено от 2222 (('127.0.0.1', 64120)): {"type": "private_message", "payload": {"recipient": "1111", "text": "132"}}
2025-05-29 01:23:40,866 - ServerApp - INFO - Создание нового direct чата для пользователей 2 и 1
2025-05-29 01:23:41,159 - ServerApp - INFO - Новый direct чат ID: 1 создан, участники добавлены.
2025-05-29 01:23:41,163 - ServerApp - INFO - Сообщение ID: 1 от user_id: 2 в chat_id: 1 сохранено в БД (2025-05-29 01:23:41.159331+07:00).
2025-05-29 01:23:41,163 - ServerApp - INFO - Сообщение (ID: 1) от 2222 к 1111 сохранено.
2025-05-29 01:23:41,163 - ServerApp - INFO - Доставка онлайн-сообщения от 2222 к 1111: 132
2025-05-29 01:23:43,689 - ServerApp - INFO - Клиент 2222 (('127.0.0.1', 64120)) отключился.
2025-05-29 01:23:43,689 - ServerApp - INFO - Клиент 2222 (('127.0.0.1', 64120)) удален из активных.
2025-05-29 01:23:43,690 - ServerApp - DEBUG - Соединение с БД для ('127.0.0.1', 64120) (пользователь: 2222) закрыто.
2025-05-29 01:23:43,690 - ServerApp - DEBUG - Сокет для ('127.0.0.1', 64120) (пользователь: 2222) окончательно закрыт.
2025-05-29 01:23:45,041 - ServerApp - INFO - Клиент 1111 (('127.0.0.1', 64122)) отключился.
2025-05-29 01:23:45,042 - ServerApp - INFO - Клиент 1111 (('127.0.0.1', 64122)) удален из активных.
2025-05-29 01:23:45,042 - ServerApp - DEBUG - Соединение с БД для ('127.0.0.1', 64122) (пользователь: 1111) закрыто.
2025-05-29 01:23:45,042 - ServerApp - DEBUG - Сокет для ('127.0.0.1', 64122) (пользователь: 1111) окончательно закрыт.
2025-05-29 01:30:25,081 - ServerApp - INFO - Получен сигнал KeyboardInterrupt (Ctrl+C)...
2025-05-29 01:30:25,081 - ServerApp - INFO - Сервер останавливается...
2025-05-29 01:30:25,081 - ServerApp - INFO - Сервер полностью остановлен.

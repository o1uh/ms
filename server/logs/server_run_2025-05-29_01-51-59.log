2025-05-29 01:51:59,889 - ServerApp - INFO - Запуск серверного приложения...
2025-05-29 01:51:59,890 - ServerApp - INFO - Сервер запущен и слушает на 127.0.0.1:65432
2025-05-29 01:51:59,890 - ServerApp - INFO - Для остановки сервера нажмите Ctrl+C в этой консоли.
2025-05-29 01:52:04,128 - ServerApp - INFO - Новое подключение от ('127.0.0.1', 64545)
2025-05-29 01:52:04,249 - ServerApp - INFO - Успешное подключение к базе данных PostgreSQL.
2025-05-29 01:52:09,014 - ServerApp - DEBUG - Получено от ('127.0.0.1', 64545) (аутентификация): {"type": "login", "payload": {"username": "1111", "password": "1111"}}
2025-05-29 01:52:09,176 - ServerApp - INFO - Клиент ('127.0.0.1', 64545) аутентифицирован как 1111 (ID: 1)
2025-05-29 01:52:21,013 - ServerApp - DEBUG - Получено от 1111 (('127.0.0.1', 64545)): {"type": "private_message", "payload": {"recipient": "2222", "text": "123"}}
2025-05-29 01:52:21,015 - ServerApp - DEBUG - Найден существующий direct чат ID: 1 для пользователей 1 и 2
2025-05-29 01:52:21,062 - ServerApp - INFO - Сообщение ID: 3 от user_id: 1 в chat_id: 1 сохранено, last_message_at обновлено (2025-05-29 01:52:09.014815+07:00).
2025-05-29 01:52:21,062 - ServerApp - INFO - Сообщение (ID: 3) от 1111 к 2222 сохранено.
2025-05-29 01:52:21,062 - ServerApp - INFO - Получатель 2222 оффлайн. Сообщение от 1111 (ID: 3) сохранено в БД для последующей доставки.
2025-05-29 01:52:34,136 - ServerApp - INFO - Новое подключение от ('127.0.0.1', 64557)
2025-05-29 01:52:34,153 - ServerApp - INFO - Успешное подключение к базе данных PostgreSQL.
2025-05-29 01:52:38,693 - ServerApp - DEBUG - Получено от ('127.0.0.1', 64557) (аутентификация): {"type": "login", "payload": {"username": "2222", "password": "2222"}}
2025-05-29 01:52:38,854 - ServerApp - INFO - Клиент ('127.0.0.1', 64557) аутентифицирован как 2222 (ID: 2)
2025-05-29 02:56:04,990 - ServerApp - INFO - Получен сигнал KeyboardInterrupt (Ctrl+C)...
2025-05-29 02:56:04,990 - ServerApp - INFO - Сервер останавливается...
2025-05-29 02:56:04,990 - ServerApp - INFO - Сервер полностью остановлен.

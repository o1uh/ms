2025-05-29 19:27:58,807 - ClientApp - INFO - Запуск клиентского приложения...
2025-05-29 19:27:58,822 - ClientApp - INFO - Инициализация главного окна клиента...
2025-05-29 19:27:58,829 - ClientApp - INFO - UI клиента инициализирован.
2025-05-29 19:27:58,905 - ClientApp - INFO - Главное окно клиента отображено.
2025-05-29 19:28:00,331 - ClientApp - INFO - Попытка подключения к 127.0.0.1:65432
2025-05-29 19:28:00,333 - ClientApp - INFO - Успешно подключено к серверу 127.0.0.1:65432
2025-05-29 19:28:00,335 - ClientApp - INFO - UI: Панель аутентификации. Статус: Подключено к 127.0.0.1. Введите данные.
2025-05-29 19:28:04,115 - ClientApp - INFO - Отправка запроса на вход для: 1111
2025-05-29 19:28:04,116 - ClientApp - DEBUG - Отправлено на сервер: {"type": "login", "payload": {"username": "1111", "password": "1111"}}
2025-05-29 19:28:04,276 - ClientApp - INFO - Получено полное сообщение от сервера: {"type": "login_status", "payload": {"status": "success", "message": "Успешный вход.", "username": "1111", "user_id": 1}}
2025-05-29 19:28:04,276 - ClientApp - INFO - Логин успешен как 1111 (ID: 1).
2025-05-29 19:28:04,277 - ClientApp - INFO - UI: Панель списка чатов для 1111.
2025-05-29 19:28:04,277 - ClientApp - INFO - Пользователь 1111 запрашивает список чатов.
2025-05-29 19:28:04,277 - ClientApp - DEBUG - Отправлено на сервер: {"type": "request_chat_list", "payload": {}}
2025-05-29 19:28:04,280 - ClientApp - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T18:57:05.111067+07:00", "last_message_text": "12", "other_user_id": 2, "other_username": "2222", "unread_count": 0}]}}
2025-05-29 19:28:04,280 - ClientApp - INFO - Получен список из 1 чатов.
2025-05-29 19:28:04,656 - ClientApp - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T18:57:05.111067+07:00", "last_message_text": "12", "other_user_id": 2, "other_username": "2222", "unread_count": 0}]}}
2025-05-29 19:28:04,656 - ClientApp - INFO - Получен список из 1 чатов.
2025-05-29 19:28:10,331 - ClientApp - INFO - Пользователь 1111 запрашивает список чатов.
2025-05-29 19:28:10,331 - ClientApp - DEBUG - Отправлено на сервер: {"type": "request_chat_list", "payload": {}}
2025-05-29 19:28:10,332 - ClientApp - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T18:57:05.111067+07:00", "last_message_text": "12", "other_user_id": 2, "other_username": "2222", "unread_count": 0}]}}
2025-05-29 19:28:10,332 - ClientApp - INFO - Получен список из 1 чатов.
2025-05-29 19:28:11,962 - ClientApp - INFO - Выбран чат из списка: ID 1, Отображаемое имя 2222
2025-05-29 19:28:11,963 - ClientApp - INFO - UI: Открыт чат ID 1 (2222). Запрос истории.
2025-05-29 19:28:11,963 - ClientApp - INFO - Запрос истории для чата ID: 1
2025-05-29 19:28:11,963 - ClientApp - DEBUG - Отправлено на сервер: {"type": "request_chat_history", "payload": {"chat_id": 1}}
2025-05-29 19:28:11,965 - ClientApp - INFO - Получено полное сообщение от сервера: {"type": "chat_history", "payload": {"chat_id": 1, "messages": [{"message_id": 1, "sender_username": "2222", "sender_id": 2, "text": "132", "timestamp": "2025-05-29T01:23:41.159331+07:00"}, {"message_id": 2, "sender_username": "1111", "sender_id": 1, "text": "13", "timestamp": "2025-05-29T01:30:40.887900+07:00"}, {"message_id": 3, "sender_username": "1111", "sender_id": 1, "text": "123", "timestamp": "2025-05-29T01:52:09.014815+07:00"}, {"message_id": 6, "sender_username": "1111", "sender_id": 1, "text": "отправка не убирается тварь", "timestamp": "2025-05-29T03:11:35.634702+07:00"}, {"message_id": 4, "sender_username": "2222", "sender_id": 2, "text": "АХАХАХХАХАХА", "timestamp": "2025-05-29T03:13:12.130367+07:00"}, {"message_id": 5, "sender_username": "2222", "sender_id": 2, "text": "а щас", "timestamp": "2025-05-29T03:13:27.444301+07:00"}, {"message_id": 8, "sender_username": "2222", "sender_id": 2, "text": "странно", "timestamp": "2025-05-29T03:16:04.738908+07:00"}, {"message_id": 7, "sender_username": "1111", "sender_id": 1, "text": "нук", "timestamp": "2025-05-29T03:16:13.422549+07:00"}, {"message_id": 9, "sender_username": "1111", "sender_id": 1, "text": "111", "timestamp": "2025-05-29T03:16:41.730885+07:00"}, {"message_id": 10, "sender_username": "1111", "sender_id": 1, "text": "ццц", "timestamp": "2025-05-29T18:15:03.991167+07:00"}, {"message_id": 11, "sender_username": "1111", "sender_id": 1, "text": "222", "timestamp": "2025-05-29T18:15:11.922173+07:00"}, {"message_id": 12, "sender_username": "1111", "sender_id": 1, "text": "уййй", "timestamp": "2025-05-29T18:15:13.827114+07:00"}, {"message_id": 13, "sender_username": "1111", "sender_id": 1, "text": "123", "timestamp": "2025-05-29T18:15:39.418037+07:00"}, {"message_id": 14, "sender_username": "1111", "sender_id": 1, "text": "123132", "timestamp": "2025-05-29T18:15:53.786141+07:00"}, {"message_id": 15, "sender_username": "1111", "sender_id": 1, "text": "12", "timestamp": "2025-05-29T18:57:05.111067+07:00"}]}}
2025-05-29 19:28:11,965 - ClientApp - INFO - Получена история для чата ID 1 (15 сообщений).
2025-05-29 19:28:14,411 - ClientApp - INFO - UI: Панель списка чатов для 1111.
2025-05-29 19:28:14,411 - ClientApp - INFO - Пользователь 1111 запрашивает список чатов.
2025-05-29 19:28:14,411 - ClientApp - DEBUG - Отправлено на сервер: {"type": "request_chat_list", "payload": {}}
2025-05-29 19:28:14,414 - ClientApp - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T18:57:05.111067+07:00", "last_message_text": "12", "other_user_id": 2, "other_username": "2222", "unread_count": 0}]}}
2025-05-29 19:28:14,414 - ClientApp - INFO - Получен список из 1 чатов.
2025-05-29 19:28:51,580 - ClientApp - INFO - Окно клиента закрывается. Отключение от сервера.
2025-05-29 19:28:51,580 - ClientApp - INFO - Отключено от сервера.
2025-05-29 19:28:51,581 - ClientApp - INFO - UI: Панель подключения. Статус: Соединение с сервером разорвано.
2025-05-29 19:28:51,585 - ClientApp - INFO - Клиентское приложение завершено с кодом: 0

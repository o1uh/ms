2025-05-29 22:54:02,607 - SocketHandler - INFO - SocketHandler инициализирован.
2025-05-29 22:54:04,426 - SocketHandler - INFO - Попытка подключения к 127.0.0.1:65432
2025-05-29 22:54:04,437 - SocketHandler - INFO - Соединение с сервером установлено.
2025-05-29 22:54:09,018 - SocketHandler - DEBUG - Отправлено: {"type": "login", "payload": {"username": "1111", "password": "1111"}}
2025-05-29 22:54:09,182 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "login_status", "payload": {"status": "success", "message": "Успешный вход.", "username": "1111", "user_id": 1}}
2025-05-29 22:54:09,185 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 22:54:09,187 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:45:17.581059+07:00", "last_message_text": "9", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T20:02:56.954592+07:00", "last_message_text": "3", "other_user_id": 2, "other_username": "2222", "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 2, "chat_type": "group", "chat_name": "uganda", "last_message_at": "2025-05-29T19:30:09.936498+07:00", "last_message_text": "qwe", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 3, "chat_type": "group", "chat_name": "uganda", "last_message_at": null, "last_message_text": "Нет сообщений", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 22:54:09,188 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:45:17.581059+07:00", "last_message_text": "9", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T20:02:56.954592+07:00", "last_message_text": "3", "other_user_id": 2, "other_username": "2222", "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 2, "chat_type": "group", "chat_name": "uganda", "last_message_at": "2025-05-29T19:30:09.936498+07:00", "last_message_text": "qwe", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 3, "chat_type": "group", "chat_name": "uganda", "last_message_at": null, "last_message_text": "Нет сообщений", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 22:54:15,833 - SocketHandler - DEBUG - Отправлено: {"type": "initiate_direct_chat", "payload": {"target_username": "2233"}}
2025-05-29 22:54:15,834 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "initiate_direct_chat_response", "payload": {"status": "error", "message": "Пользователь '2233' не найден."}}
2025-05-29 22:54:17,051 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 22:54:17,056 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:45:17.581059+07:00", "last_message_text": "9", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T20:02:56.954592+07:00", "last_message_text": "3", "other_user_id": 2, "other_username": "2222", "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 2, "chat_type": "group", "chat_name": "uganda", "last_message_at": "2025-05-29T19:30:09.936498+07:00", "last_message_text": "qwe", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 3, "chat_type": "group", "chat_name": "uganda", "last_message_at": null, "last_message_text": "Нет сообщений", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 22:54:19,881 - SocketHandler - DEBUG - Отправлено: {"type": "initiate_direct_chat", "payload": {"target_username": "2222"}}
2025-05-29 22:54:19,883 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "initiate_direct_chat_response", "payload": {"status": "success", "chat_id": 1, "chat_name": "2222", "other_user_id": 2, "other_username": "2222"}}
2025-05-29 22:54:19,884 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_history", "payload": {"chat_id": 1}}
2025-05-29 22:54:19,886 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_history", "payload": {"chat_id": 1, "messages": [{"message_id": 1, "sender_username": "2222", "sender_id": 2, "text": "132", "timestamp": "2025-05-29T01:23:41.159331+07:00"}, {"message_id": 2, "sender_username": "1111", "sender_id": 1, "text": "13", "timestamp": "2025-05-29T01:30:40.887900+07:00"}, {"message_id": 3, "sender_username": "1111", "sender_id": 1, "text": "123", "timestamp": "2025-05-29T01:52:09.014815+07:00"}, {"message_id": 6, "sender_username": "1111", "sender_id": 1, "text": "отправка не убирается тварь", "timestamp": "2025-05-29T03:11:35.634702+07:00"}, {"message_id": 4, "sender_username": "2222", "sender_id": 2, "text": "АХАХАХХАХАХА", "timestamp": "2025-05-29T03:13:12.130367+07:00"}, {"message_id": 5, "sender_username": "2222", "sender_id": 2, "text": "а щас", "timestamp": "2025-05-29T03:13:27.444301+07:00"}, {"message_id": 8, "sender_username": "2222", "sender_id": 2, "text": "странно", "timestamp": "2025-05-29T03:16:04.738908+07:00"}, {"message_id": 7, "sender_username": "1111", "sender_id": 1, "text": "нук", "timestamp": "2025-05-29T03:16:13.422549+07:00"}, {"message_id": 9, "sender_username": "1111", "sender_id": 1, "text": "111", "timestamp": "2025-05-29T03:16:41.730885+07:00"}, {"message_id": 10, "sender_username": "1111", "sender_id": 1, "text": "ццц", "timestamp": "2025-05-29T18:15:03.991167+07:00"}, {"message_id": 11, "sender_username": "1111", "sender_id": 1, "text": "222", "timestamp": "2025-05-29T18:15:11.922173+07:00"}, {"message_id": 12, "sender_username": "1111", "sender_id": 1, "text": "уййй", "timestamp": "2025-05-29T18:15:13.827114+07:00"}, {"message_id": 13, "sender_username": "1111", "sender_id": 1, "text": "123", "timestamp": "2025-05-29T18:15:39.418037+07:00"}, {"message_id": 14, "sender_username": "1111", "sender_id": 1, "text": "123132", "timestamp": "2025-05-29T18:15:53.786141+07:00"}, {"message_id": 15, "sender_username": "1111", "sender_id": 1, "text": "12", "timestamp": "2025-05-29T18:57:05.111067+07:00"}, {"message_id": 43, "sender_username": "1111", "sender_id": 1, "text": "1", "timestamp": "2025-05-29T19:44:49.887182+07:00"}, {"message_id": 49, "sender_username": "2222", "sender_id": 2, "text": "1 2 3 4 5 6", "timestamp": "2025-05-29T19:44:51.407124+07:00"}, {"message_id": 44, "sender_username": "1111", "sender_id": 1, "text": "2", "timestamp": "2025-05-29T20:02:39.258648+07:00"}, {"message_id": 45, "sender_username": "1111", "sender_id": 1, "text": "3", "timestamp": "2025-05-29T20:02:39.572243+07:00"}, {"message_id": 46, "sender_username": "1111", "sender_id": 1, "text": "4", "timestamp": "2025-05-29T20:02:39.753435+07:00"}, {"message_id": 47, "sender_username": "1111", "sender_id": 1, "text": "5", "timestamp": "2025-05-29T20:02:40.845662+07:00"}, {"message_id": 48, "sender_username": "1111", "sender_id": 1, "text": "6", "timestamp": "2025-05-29T20:02:41.088564+07:00"}, {"message_id": 50, "sender_username": "2222", "sender_id": 2, "text": "1", "timestamp": "2025-05-29T20:02:54.054431+07:00"}, {"message_id": 51, "sender_username": "2222", "sender_id": 2, "text": "2", "timestamp": "2025-05-29T20:02:56.666756+07:00"}, {"message_id": 52, "sender_username": "2222", "sender_id": 2, "text": "3", "timestamp": "2025-05-29T20:02:56.954592+07:00"}]}}
2025-05-29 22:54:21,977 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 22:54:21,981 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:45:17.581059+07:00", "last_message_text": "9", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T20:02:56.954592+07:00", "last_message_text": "3", "other_user_id": 2, "other_username": "2222", "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 2, "chat_type": "group", "chat_name": "uganda", "last_message_at": "2025-05-29T19:30:09.936498+07:00", "last_message_text": "qwe", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 3, "chat_type": "group", "chat_name": "uganda", "last_message_at": null, "last_message_text": "Нет сообщений", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 22:54:29,129 - SocketHandler - DEBUG - Отправлено: {"type": "create_group_request", "payload": {"group_name": "123", "member_usernames": ["1223"]}}
2025-05-29 22:54:29,130 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "create_group_response", "payload": {"status": "error", "message": "Пользователь '1223' для добавления в группу не найден."}}
2025-05-29 22:55:00,640 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 1, "message_id": 99, "sender_username": "2222", "sender_id": 2, "text": "22234", "timestamp": "2025-05-29T22:55:00.638475+07:00"}}
2025-05-29 22:55:00,640 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 22:55:12,417 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 22:55:12,418 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T22:55:00.638475+07:00", "last_message_text": "22234", "other_user_id": 2, "other_username": "2222", "unread_count": 0}, {"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:45:17.581059+07:00", "last_message_text": "9", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 2, "chat_type": "group", "chat_name": "uganda", "last_message_at": "2025-05-29T19:30:09.936498+07:00", "last_message_text": "qwe", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 3, "chat_type": "group", "chat_name": "uganda", "last_message_at": null, "last_message_text": "Нет сообщений", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 22:55:12,419 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 1, "message_id": 100, "sender_username": "2222", "sender_id": 2, "text": "111", "timestamp": "2025-05-29T22:55:04.220022+07:00"}}
2025-05-29 22:55:12,419 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 22:55:13,531 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T22:55:04.220022+07:00", "last_message_text": "111", "other_user_id": 2, "other_username": "2222", "unread_count": 0}, {"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:45:17.581059+07:00", "last_message_text": "9", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 2, "chat_type": "group", "chat_name": "uganda", "last_message_at": "2025-05-29T19:30:09.936498+07:00", "last_message_text": "qwe", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 3, "chat_type": "group", "chat_name": "uganda", "last_message_at": null, "last_message_text": "Нет сообщений", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 22:55:14,457 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 22:55:14,458 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T22:55:04.220022+07:00", "last_message_text": "111", "other_user_id": 2, "other_username": "2222", "unread_count": 0}, {"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:45:17.581059+07:00", "last_message_text": "9", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 2, "chat_type": "group", "chat_name": "uganda", "last_message_at": "2025-05-29T19:30:09.936498+07:00", "last_message_text": "qwe", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 3, "chat_type": "group", "chat_name": "uganda", "last_message_at": null, "last_message_text": "Нет сообщений", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 22:55:14,459 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 1, "chat_type": "direct", "chat_name": "2222", "last_message_at": "2025-05-29T22:55:04.220022+07:00", "last_message_text": "111", "other_user_id": 2, "other_username": "2222", "unread_count": 0}, {"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:45:17.581059+07:00", "last_message_text": "9", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 2, "chat_type": "group", "chat_name": "uganda", "last_message_at": "2025-05-29T19:30:09.936498+07:00", "last_message_text": "qwe", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 3, "chat_type": "group", "chat_name": "uganda", "last_message_at": null, "last_message_text": "Нет сообщений", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 22:55:15,826 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_history", "payload": {"chat_id": 1}}
2025-05-29 22:55:15,828 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_history", "payload": {"chat_id": 1, "messages": [{"message_id": 1, "sender_username": "2222", "sender_id": 2, "text": "132", "timestamp": "2025-05-29T01:23:41.159331+07:00"}, {"message_id": 2, "sender_username": "1111", "sender_id": 1, "text": "13", "timestamp": "2025-05-29T01:30:40.887900+07:00"}, {"message_id": 3, "sender_username": "1111", "sender_id": 1, "text": "123", "timestamp": "2025-05-29T01:52:09.014815+07:00"}, {"message_id": 6, "sender_username": "1111", "sender_id": 1, "text": "отправка не убирается тварь", "timestamp": "2025-05-29T03:11:35.634702+07:00"}, {"message_id": 4, "sender_username": "2222", "sender_id": 2, "text": "АХАХАХХАХАХА", "timestamp": "2025-05-29T03:13:12.130367+07:00"}, {"message_id": 5, "sender_username": "2222", "sender_id": 2, "text": "а щас", "timestamp": "2025-05-29T03:13:27.444301+07:00"}, {"message_id": 8, "sender_username": "2222", "sender_id": 2, "text": "странно", "timestamp": "2025-05-29T03:16:04.738908+07:00"}, {"message_id": 7, "sender_username": "1111", "sender_id": 1, "text": "нук", "timestamp": "2025-05-29T03:16:13.422549+07:00"}, {"message_id": 9, "sender_username": "1111", "sender_id": 1, "text": "111", "timestamp": "2025-05-29T03:16:41.730885+07:00"}, {"message_id": 10, "sender_username": "1111", "sender_id": 1, "text": "ццц", "timestamp": "2025-05-29T18:15:03.991167+07:00"}, {"message_id": 11, "sender_username": "1111", "sender_id": 1, "text": "222", "timestamp": "2025-05-29T18:15:11.922173+07:00"}, {"message_id": 12, "sender_username": "1111", "sender_id": 1, "text": "уййй", "timestamp": "2025-05-29T18:15:13.827114+07:00"}, {"message_id": 13, "sender_username": "1111", "sender_id": 1, "text": "123", "timestamp": "2025-05-29T18:15:39.418037+07:00"}, {"message_id": 14, "sender_username": "1111", "sender_id": 1, "text": "123132", "timestamp": "2025-05-29T18:15:53.786141+07:00"}, {"message_id": 15, "sender_username": "1111", "sender_id": 1, "text": "12", "timestamp": "2025-05-29T18:57:05.111067+07:00"}, {"message_id": 43, "sender_username": "1111", "sender_id": 1, "text": "1", "timestamp": "2025-05-29T19:44:49.887182+07:00"}, {"message_id": 49, "sender_username": "2222", "sender_id": 2, "text": "1 2 3 4 5 6", "timestamp": "2025-05-29T19:44:51.407124+07:00"}, {"message_id": 44, "sender_username": "1111", "sender_id": 1, "text": "2", "timestamp": "2025-05-29T20:02:39.258648+07:00"}, {"message_id": 45, "sender_username": "1111", "sender_id": 1, "text": "3", "timestamp": "2025-05-29T20:02:39.572243+07:00"}, {"message_id": 46, "sender_username": "1111", "sender_id": 1, "text": "4", "timestamp": "2025-05-29T20:02:39.753435+07:00"}, {"message_id": 47, "sender_username": "1111", "sender_id": 1, "text": "5", "timestamp": "2025-05-29T20:02:40.845662+07:00"}, {"message_id": 48, "sender_username": "1111", "sender_id": 1, "text": "6", "timestamp": "2025-05-29T20:02:41.088564+07:00"}, {"message_id": 50, "sender_username": "2222", "sender_id": 2, "text": "1", "timestamp": "2025-05-29T20:02:54.054431+07:00"}, {"message_id": 51, "sender_username": "2222", "sender_id": 2, "text": "2", "timestamp": "2025-05-29T20:02:56.666756+07:00"}, {"message_id": 52, "sender_username": "2222", "sender_id": 2, "text": "3", "timestamp": "2025-05-29T20:02:56.954592+07:00"}, {"message_id": 99, "sender_username": "2222", "sender_id": 2, "text": "22234", "timestamp": "2025-05-29T22:55:00.638475+07:00"}, {"message_id": 100, "sender_username": "2222", "sender_id": 2, "text": "111", "timestamp": "2025-05-29T22:55:04.220022+07:00"}]}}
2025-05-29 22:55:23,396 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 1, "message_id": 101, "sender_username": "2222", "sender_id": 2, "text": "123", "timestamp": "2025-05-29T22:55:23.395709+07:00"}}

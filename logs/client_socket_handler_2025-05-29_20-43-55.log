2025-05-29 20:43:55,567 - SocketHandler - INFO - SocketHandler инициализирован.
2025-05-29 20:44:07,432 - SocketHandler - INFO - Попытка подключения к 127.0.0.1:65432
2025-05-29 20:44:07,434 - SocketHandler - INFO - Соединение с сервером установлено.
2025-05-29 20:44:10,520 - SocketHandler - DEBUG - Отправлено: {"type": "login", "payload": {"username": "3333", "password": "3333"}}
2025-05-29 20:44:10,681 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "login_status", "payload": {"status": "success", "message": "Успешный вход.", "username": "3333", "user_id": 3}}
2025-05-29 20:44:10,684 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 20:44:10,686 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": null, "last_message_text": "Нет сообщений", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 20:44:10,686 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": null, "last_message_text": "Нет сообщений", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 20:44:21,220 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 6, "message_id": 77, "sender_username": "1111", "sender_id": 1, "text": "12", "timestamp": "2025-05-29T20:44:21.218510+07:00"}}
2025-05-29 20:44:21,220 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 20:44:25,737 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_history", "payload": {"chat_id": 6}}
2025-05-29 20:44:25,739 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:44:21.218510+07:00", "last_message_text": "12", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 20:44:25,740 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_history", "payload": {"chat_id": 6, "messages": [{"message_id": 77, "sender_username": "1111", "sender_id": 1, "text": "12", "timestamp": "2025-05-29T20:44:21.218510+07:00"}]}}
2025-05-29 20:44:36,447 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "1"}}
2025-05-29 20:44:36,959 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "2"}}
2025-05-29 20:44:37,423 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "3"}}
2025-05-29 20:44:37,919 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "4"}}
2025-05-29 20:44:38,383 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "5"}}
2025-05-29 20:44:38,895 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "6"}}
2025-05-29 20:44:40,207 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "7"}}
2025-05-29 20:44:42,914 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 6, "message_id": 85, "sender_username": "1111", "sender_id": 1, "text": "8", "timestamp": "2025-05-29T20:44:42.913611+07:00"}}
2025-05-29 20:44:43,618 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 6, "message_id": 86, "sender_username": "1111", "sender_id": 1, "text": "9", "timestamp": "2025-05-29T20:44:43.617198+07:00"}}
2025-05-29 20:44:44,690 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 6, "message_id": 87, "sender_username": "1111", "sender_id": 1, "text": "10", "timestamp": "2025-05-29T20:44:44.689285+07:00"}}
2025-05-29 20:44:45,266 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 6, "message_id": 88, "sender_username": "1111", "sender_id": 1, "text": "11", "timestamp": "2025-05-29T20:44:45.265459+07:00"}}
2025-05-29 20:45:11,323 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "0"}}
2025-05-29 20:45:11,563 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "1"}}
2025-05-29 20:45:11,900 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "2"}}
2025-05-29 20:45:12,203 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "3"}}
2025-05-29 20:45:13,579 - SocketHandler - DEBUG - Отправлено: {"type": "send_message_to_chat", "payload": {"chat_id": 6, "text": "4"}}
2025-05-29 20:45:16,240 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 6, "message_id": 94, "sender_username": "1111", "sender_id": 1, "text": "5", "timestamp": "2025-05-29T20:45:16.236894+07:00"}}
2025-05-29 20:45:16,525 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 6, "message_id": 95, "sender_username": "1111", "sender_id": 1, "text": "6", "timestamp": "2025-05-29T20:45:16.524812+07:00"}}
2025-05-29 20:45:16,848 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 6, "message_id": 96, "sender_username": "1111", "sender_id": 1, "text": "7", "timestamp": "2025-05-29T20:45:16.844840+07:00"}}
2025-05-29 20:45:17,134 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 6, "message_id": 97, "sender_username": "1111", "sender_id": 1, "text": "8", "timestamp": "2025-05-29T20:45:17.133030+07:00"}}
2025-05-29 20:45:17,583 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "incoming_chat_message", "payload": {"chat_id": 6, "message_id": 98, "sender_username": "1111", "sender_id": 1, "text": "9", "timestamp": "2025-05-29T20:45:17.581059+07:00"}}
2025-05-29 20:45:19,455 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 20:45:19,459 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:45:17.581059+07:00", "last_message_text": "9", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 20:45:21,152 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_history", "payload": {"chat_id": 6}}
2025-05-29 20:45:21,154 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_history", "payload": {"chat_id": 6, "messages": [{"message_id": 77, "sender_username": "1111", "sender_id": 1, "text": "12", "timestamp": "2025-05-29T20:44:21.218510+07:00"}, {"message_id": 78, "sender_username": "3333", "sender_id": 3, "text": "1", "timestamp": "2025-05-29T20:44:36.448561+07:00"}, {"message_id": 79, "sender_username": "3333", "sender_id": 3, "text": "2", "timestamp": "2025-05-29T20:44:36.960343+07:00"}, {"message_id": 80, "sender_username": "3333", "sender_id": 3, "text": "3", "timestamp": "2025-05-29T20:44:37.424311+07:00"}, {"message_id": 81, "sender_username": "3333", "sender_id": 3, "text": "4", "timestamp": "2025-05-29T20:44:37.920338+07:00"}, {"message_id": 82, "sender_username": "3333", "sender_id": 3, "text": "5", "timestamp": "2025-05-29T20:44:38.384449+07:00"}, {"message_id": 83, "sender_username": "3333", "sender_id": 3, "text": "6", "timestamp": "2025-05-29T20:44:38.896555+07:00"}, {"message_id": 84, "sender_username": "3333", "sender_id": 3, "text": "7", "timestamp": "2025-05-29T20:44:40.208843+07:00"}, {"message_id": 85, "sender_username": "1111", "sender_id": 1, "text": "8", "timestamp": "2025-05-29T20:44:42.913611+07:00"}, {"message_id": 86, "sender_username": "1111", "sender_id": 1, "text": "9", "timestamp": "2025-05-29T20:44:43.617198+07:00"}, {"message_id": 87, "sender_username": "1111", "sender_id": 1, "text": "10", "timestamp": "2025-05-29T20:44:44.689285+07:00"}, {"message_id": 88, "sender_username": "1111", "sender_id": 1, "text": "11", "timestamp": "2025-05-29T20:44:45.265459+07:00"}, {"message_id": 89, "sender_username": "3333", "sender_id": 3, "text": "0", "timestamp": "2025-05-29T20:45:11.324787+07:00"}, {"message_id": 90, "sender_username": "3333", "sender_id": 3, "text": "1", "timestamp": "2025-05-29T20:45:11.564649+07:00"}, {"message_id": 91, "sender_username": "3333", "sender_id": 3, "text": "2", "timestamp": "2025-05-29T20:45:11.902310+07:00"}, {"message_id": 92, "sender_username": "3333", "sender_id": 3, "text": "3", "timestamp": "2025-05-29T20:45:12.204848+07:00"}, {"message_id": 93, "sender_username": "3333", "sender_id": 3, "text": "4", "timestamp": "2025-05-29T20:45:13.580831+07:00"}, {"message_id": 94, "sender_username": "1111", "sender_id": 1, "text": "5", "timestamp": "2025-05-29T20:45:16.236894+07:00"}, {"message_id": 95, "sender_username": "1111", "sender_id": 1, "text": "6", "timestamp": "2025-05-29T20:45:16.524812+07:00"}, {"message_id": 96, "sender_username": "1111", "sender_id": 1, "text": "7", "timestamp": "2025-05-29T20:45:16.844840+07:00"}, {"message_id": 97, "sender_username": "1111", "sender_id": 1, "text": "8", "timestamp": "2025-05-29T20:45:17.133030+07:00"}, {"message_id": 98, "sender_username": "1111", "sender_id": 1, "text": "9", "timestamp": "2025-05-29T20:45:17.581059+07:00"}]}}
2025-05-29 20:45:50,111 - SocketHandler - DEBUG - Отправлено: {"type": "request_chat_list", "payload": {}}
2025-05-29 20:45:50,115 - SocketHandler - INFO - Получено полное сообщение от сервера: {"type": "chat_list_response", "payload": {"chats": [{"chat_id": 6, "chat_type": "group", "chat_name": "ввввв", "last_message_at": "2025-05-29T20:45:17.581059+07:00", "last_message_text": "9", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 5, "chat_type": "group", "chat_name": "аа", "last_message_at": "2025-05-29T20:23:05.324984+07:00", "last_message_text": "66", "other_user_id": null, "other_username": null, "unread_count": 0}, {"chat_id": 4, "chat_type": "group", "chat_name": "ppppppppp", "last_message_at": "2025-05-29T19:32:43.247986+07:00", "last_message_text": "фывфв", "other_user_id": null, "other_username": null, "unread_count": 0}]}}
2025-05-29 20:46:07,161 - SocketHandler - INFO - Отключение от хоста...
2025-05-29 20:46:07,161 - SocketHandler - INFO - Соединение с сервером разорвано.
